<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Nu11able</title><link>https://nu11able.github.io/</link><description>Recent content on Nu11able</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 06 Mar 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://nu11able.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>Archives</title><link>https://nu11able.github.io/archives/</link><pubDate>Sun, 06 Mar 2022 00:00:00 +0000</pubDate><guid>https://nu11able.github.io/archives/</guid><description/></item><item><title>cmake使用记录</title><link>https://nu11able.github.io/p/cmake%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/</link><pubDate>Thu, 03 Mar 2022 00:00:00 +0000</pubDate><guid>https://nu11able.github.io/p/cmake%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/</guid><description>&lt;h1 id="cmake使用记录">cmake使用记录
&lt;/h1>&lt;h2 id="cmake使用模板">cmake使用模板
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmake" data-lang="cmake">&lt;span class="line">&lt;span class="cl">&lt;span class="c">#CMake的最低版本要求
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">cmake_minimum_required&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">VERSION&lt;/span> &lt;span class="s">3.0&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">#项目名称
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">project&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">tingx&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">#设置版本是 Debug 还是 Release
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">CMAKE_BUILD_TYPE&lt;/span> &lt;span class="s2">&amp;#34;Debug&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nb">file&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">GLOB_RECURSE&lt;/span> &lt;span class="s">SRC_FILES&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">PROJECT_SOURCE_DIR&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="s">/src/**.cc&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">PROJECT_SOURCE_DIR&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="s">/src/**.hpp&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">PROJECT_SOURCE_DIR&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="s">/src/**.h&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 移除某些文件
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">file&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">GLOB_RECURSE&lt;/span> &lt;span class="s">MAINS&lt;/span> &lt;span class="s">src/*main.cc&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nb">list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">REMOVE_ITEM&lt;/span> &lt;span class="s">LIBRARY&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">MAINS&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># msvc 按文件夹分组
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">macro&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">source_group_by_dir&lt;/span> &lt;span class="s">source_files&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nb">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">MSVC&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nb">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">sgbd_cur_dir&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">CMAKE_CURRENT_SOURCE_DIR&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nb">foreach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">sgbd_file&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">${source_files&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="s">}&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">REGEX&lt;/span> &lt;span class="s">REPLACE&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">sgbd_cur_dir&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="s">/\(.*\&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">\\1&lt;/span> &lt;span class="err">sgbd_fpath&lt;/span> &lt;span class="err">${sgbd_file})
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">REGEX&lt;/span> &lt;span class="s">REPLACE&lt;/span> &lt;span class="s2">&amp;#34;\(.*\)/.*&amp;#34;&lt;/span> &lt;span class="s">\\1&lt;/span> &lt;span class="s">sgbd_group_name&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">sgbd_fpath&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">COMPARE&lt;/span> &lt;span class="s">EQUAL&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">sgbd_fpath&lt;/span>&lt;span class="o">}&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">sgbd_group_name&lt;/span>&lt;span class="o">}&lt;/span> &lt;span class="s">sgbd_nogroup&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">REPLACE&lt;/span> &lt;span class="s2">&amp;#34;/&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;\\&amp;#34;&lt;/span> &lt;span class="s">sgbd_group_name&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">sgbd_group_name&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nb">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">sgbd_nogroup&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nb">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">sgbd_group_name&lt;/span> &lt;span class="s2">&amp;#34;\\&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nb">endif&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">sgbd_nogroup&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nb">source_group&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">${&lt;/span>&lt;span class="nv">sgbd_group_name&lt;/span>&lt;span class="o">}&lt;/span> &lt;span class="s">FILES&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">sgbd_file&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nb">endforeach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">sgbd_file&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nb">endif&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">MSVC&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nb">endmacro&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">source_group_by_dir&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">#设置包含目录
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">include_directories&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">${&lt;/span>&lt;span class="nv">PROJECT_SOURCE_DIR&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="s">/src&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">#设置输出目录
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">EXECUTABLE_OUTPUT_PATH&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">PROJECT_SOURCE_DIR&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="s">/build&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">#添加编译参数,比如add_definitions(-DDEBUG)将在gcc命令行添加DEBUG宏定义
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">add_definitions&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">-g&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">#添加可执行文件
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">add_executable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">tingx&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">SRC_FILES&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nb">add_executable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">client&lt;/span> &lt;span class="o">${&lt;/span>&lt;span class="nv">PROJECT_SOURCE_DIR&lt;/span>&lt;span class="o">}&lt;/span>&lt;span class="s">/test/client.cc&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="cmake预定义变量">cmake预定义变量
&lt;/h2>&lt;p>&lt;code>以下假设项目文件夹路径为/home/name/project&lt;/code>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>变量&lt;/th>
&lt;th>值&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>PROJECT_SOURCE_DIR&lt;/td>
&lt;td>/home/name/project&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="问题汇总">问题汇总
&lt;/h2>&lt;h3 id="cmakevscode配置后源代码中显示头文件找不到">cmake+vscode配置后源代码中显示头文件找不到
&lt;/h3>&lt;p>在项目文件夹下.vscode中settings.json中添加行&amp;quot;C_Cpp.default.configurationProvider&amp;quot;: &amp;ldquo;vector-of-bool.cmake-tools&amp;rdquo;&lt;/p></description></item><item><title>Git 笔记</title><link>https://nu11able.github.io/p/git-%E7%AC%94%E8%AE%B0/</link><pubDate>Sat, 26 Feb 2022 02:03:00 +0000</pubDate><guid>https://nu11able.github.io/p/git-%E7%AC%94%E8%AE%B0/</guid><description>&lt;h1 id="git笔记">Git笔记
&lt;/h1>&lt;h2 id="说明">说明
&lt;/h2>&lt;p>&lt;code>1、以下举例所用的仓库地址均为：git@github.com:yourname/repo.git&lt;/code>
&lt;code>2、以下举例所用的仓库地址均为：github_repo&lt;/code>&lt;/p>
&lt;h2 id="新建仓库">新建仓库
&lt;/h2>&lt;p>从github中新创建仓库后可以看到下图&lt;/p>
&lt;ul>
&lt;li>本地没有代码从0开始&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;# test&amp;#34;&lt;/span> &amp;gt;&amp;gt; README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m &lt;span class="s2">&amp;#34;first commit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git branch -M main &lt;span class="c1"># 修改master分支名字为main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git remote add origin git@github.com:yourname/repo.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push -u origin main
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>本地已有代码&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git remote add origin git@github.com:yourname/repo.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git branch -M main &lt;span class="c1"># 可以跳过&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push -u origin main
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push -u origin master &lt;span class="c1"># 默认存在master分支&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="git-remote">git remote
&lt;/h2>&lt;h3 id="列出远程仓库">列出远程仓库
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git remote
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git remote -v &lt;span class="c1"># 列出详细信息&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="添加删除远程仓库地址">添加/删除远程仓库地址
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git remote add name git@github.com:yourname/repo.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git remote remove name
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="修改仓库名字">修改仓库名字
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git remote rename oldname newname
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="git-rm">git rm
&lt;/h2>&lt;h3 id="删除对某个文件的跟踪">删除对某个文件的跟踪
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git rm --cached somefile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 如果是文件夹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git rm -r --cached somefile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="git-reset">git reset
&lt;/h2>&lt;h3 id="撤销commit">撤销commit
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git reset --soft HEAD^ &lt;span class="c1"># 撤销一次commit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git reset --soft HEAD~2 &lt;span class="c1"># 撤销两次commit&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>提交完了之后发现文件名不对，或者说对某个文件做了轻微的改动&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git add . &lt;span class="c1"># 添加所有新的修改到暂存区&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit --amend
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="常见问题">常见问题
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>命令&lt;/th>
&lt;th>功能&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;/table>
&lt;h3 id="修复github只有新建仓库时才有小绿点贡献而commit没有">修复github只有新建仓库时才有小绿点贡献而commit没有
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git filter-branch --env-filter &lt;span class="s1">&amp;#39;GIT_AUTHOR_EMAIL=&amp;#34;your_email@email&amp;#34;;GIT_AUTHOR_NAME=&amp;#34;your_name&amp;#34;;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>asm</title><link>https://nu11able.github.io/p/asm/</link><pubDate>Wed, 23 Feb 2022 00:00:00 +0000</pubDate><guid>https://nu11able.github.io/p/asm/</guid><description>&lt;h1 id="tips">Tips
&lt;/h1>&lt;ul>
&lt;li>
&lt;p>cpu对各个部件的控制其实就是对各部件的内存地址空间进行数据的读写&lt;/p>
&lt;/li>
&lt;li>
&lt;p>8086CPU有14个寄存器AX,BX,CX,DX,SI,DI,SP,BP,IP,CS,SS,DS,ES,PSW(flag寄存器)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>8086CPU有20位地址总线，但其又是16位结构，所以地址加法器采用&lt;strong>物理地址=段地址*16+偏移地址&lt;/strong>(我们所看到的数据中以16进制来表示，20根地址线达到1M寻址能力需要使用5位十六进制数表示，而8086CPU每次最多只能传递4位十六进制数，所以其在内部使用两个十六位的地址来合成二十位地址)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>所谓的段地址中的“段”并不意味着内存被划分为了一个个的段&lt;strong>内存并没有分段&lt;/strong>，只是因为CPU的寻址方式才有了段地址这个概念，仔细想一想偏移地址最大为FFFFH，这意味着一个段可能最大也就64kb，那我想要访问其他地址怎么办？这个时候就只能改动段地址(想象一根线，你可以在其上选两个点，除了最后一小段第一个点随便选，第二个点只能在第一个点的某一范围内选)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>任意时刻CS,IP指向的内容都当做指令执行，既CP:IP总是指向即将被CPU执行的指令，执行之后IP会自动增加(当然也可以改动CS:IP的指向，想想函数之间的跳转)&lt;code>mov 指令不能够设置CS:IP的值，jmp可以&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>8086CPU不支持将数据直接送入段寄存器的操作，例如&lt;code>mov ds,1000H mov cs,00FFH是非法的&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>8086CPU的入栈和出栈都是以字为单位进行的(既2byte 16位二进制 因为它是16位CPU？32位的CPU就是以4byte位单位，既4byte位一个字？)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>POP和PUSH指令用于出栈和入栈,涉及寄存器SS:SP，&lt;strong>任意时刻SS:SP 始终指向栈顶元素&lt;/strong>执行PUSH或POP和SP会自动增减&lt;strong>入栈时，栈顶从高地址向低地址方向增长&lt;/strong>,8086CPU不会检查栈顶是否超界，需要我们自己控制&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在8086CPU中只有bx,si,di和bp可以用在&amp;quot;[]&amp;ldquo;中用来进行内存单元的寻址&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在没有寄存器名存在的情况下，用操作符 X ptr指明内存单元的长度(X可以为byte或word) &lt;code>mov word ptr [bx],2 或inc byte ptr [bx]&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;blockquote>
&lt;p>一般来说，我们可以用[bx + idata + si]的方式来访问结构体中的数据。用bx定位整个结构体，用idata定位结构体中的某一个数据项，用si定位数组项中的每个元素。为此，汇编语言提供了更为贴切的书写方式，如&lt;code>[bx].idata [bx].idata[si]&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>在“[]”中bx,si,di和bp可以单独出现，或只能以4种组合出现&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mov ax,[bx]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mox ax,[si]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mox ax,[di]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mox ax,[bp]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mov ax,[bx + si]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mox ax,[bx + di]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mox ax,[bp + si]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mox ax,[bp + di]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mov ax,[bx + si + idata]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mox ax,[bx + di + idata]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mox ax,[bp + si + idata]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mox ax,[bp + di + idata]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>下面的指令是错误的&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mov ax,[bx+bp]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mov ax,[si+di]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>只要在[&amp;hellip;]中使用寄存器bp，而指令中没有显性的给出段地址，段地址就默认在ss中&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>寄存器&lt;/th>
&lt;th>作用&lt;/th>
&lt;th>是否可分为两个八位&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>AX&lt;/td>
&lt;td>通用寄存器&lt;/td>
&lt;td>是 AH AL&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>BX&lt;/td>
&lt;td>通用寄存器&lt;/td>
&lt;td>是 BH BL&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CX&lt;/td>
&lt;td>通用寄存器&lt;/td>
&lt;td>是 CH CL&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>DX&lt;/td>
&lt;td>通用寄存器&lt;/td>
&lt;td>是 DH DL&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CS&lt;/td>
&lt;td>代码段寄存器&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>IP&lt;/td>
&lt;td>指令指针寄存器&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>DS&lt;/td>
&lt;td>数据段寄存器&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>SS&lt;/td>
&lt;td>栈段寄存器&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>SP&lt;/td>
&lt;td>栈顶指针&lt;/td>
&lt;td>任意时刻SS:SP始终指向栈顶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>SI&lt;/td>
&lt;td>与BX功能相近&lt;/td>
&lt;td>不能分为两个八位寄存器&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>DI&lt;/td>
&lt;td>与BX功能相近&lt;/td>
&lt;td>不能分为两个八位寄存器&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>BP&lt;/td>
&lt;td>用在[&amp;hellip;]寻址中?&lt;/td>
&lt;td>&lt;strong>只要在[&amp;hellip;]中使用寄存器bp，而指令中没有显性的给出段地址，段地址就默认在ss中&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>PSW&lt;/td>
&lt;td>(flag寄存器)&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="汇编指令汇总">汇编指令汇总
&lt;/h1>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>汇编指令&lt;/th>
&lt;th>控制CPU完成的操作&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>mov ax,18&lt;/td>
&lt;td>将18送入寄存器AX&lt;/td>
&lt;td>AX=18&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>add ax,[0]&lt;/td>
&lt;td>将AX中的数值加DS:0地址处的值结果存入AX&lt;/td>
&lt;td>AX=AX+[ds*16+0]&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sub ax,bx&lt;/td>
&lt;td>将AX中的数据减去BX中的数据后结果存入AX&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>mul reg/内存单元&lt;/td>
&lt;td>&lt;/td>
&lt;td>乘法指令&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>div reg/内存单元&lt;/td>
&lt;td>&lt;/td>
&lt;td>除法指令&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>push ax&lt;/td>
&lt;td>将AX的值入栈&lt;/td>
&lt;td>(1)SP=SP-2 (2)[SS*16+SP]=AX&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pop ax&lt;/td>
&lt;td>将栈顶数据送入AX&lt;/td>
&lt;td>(1)AX=[SS*16+SP] (2)SP=SP+2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>inc bx&lt;/td>
&lt;td>BX中的内容加1&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>dec bx&lt;/td>
&lt;td>BX中的内容减1&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>shl 操作数,移动位数&lt;/td>
&lt;td>逻辑左移指令&lt;/td>
&lt;td>将移出的一位写入cf低位补0,如果移动位数大于1则必须将移动位数放入al&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>shr 操作数,移动位数&lt;/td>
&lt;td>逻辑右移指令&lt;/td>
&lt;td>将移出的一位写入cf低位补0,如果移动位数大于1则必须将移动位数放入al&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>and ax,bx&lt;/td>
&lt;td>按位与运算，将结果存入ax&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>or ax,bx&lt;/td>
&lt;td>按位或运算，将结果存入ax&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>offset 标号&lt;/td>
&lt;td>由编译器处理功能是取得标号的偏移地址&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>seg 标号&lt;/td>
&lt;td>由编译器处理功能是取得标号的段地址&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>adc 操作对象1,操作对象2&lt;/td>
&lt;td>&lt;/td>
&lt;td>操作对象1=操作对象1+操作对象2+CF&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sbb 操作对象1,操作对象2&lt;/td>
&lt;td>&lt;/td>
&lt;td>操作对象1=操作对象1-操作对象2-CF&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cmp 操作对象1,操作对象2&lt;/td>
&lt;td>相当于减法指令但不保存结果但会对标志寄存器产生影响&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cld&lt;/td>
&lt;td>将标志寄存器df位置0&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>std&lt;/td>
&lt;td>将标志寄存器df位置1&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cli&lt;/td>
&lt;td>将标志寄存器if位置0&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sti&lt;/td>
&lt;td>将标志寄存器if位置1&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pushf&lt;/td>
&lt;td>将标志寄存器压栈&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>popf&lt;/td>
&lt;td>将栈中数据送入标志寄存器&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>loop 标号&lt;/td>
&lt;td>循环&lt;/td>
&lt;td>(1)CX=CX-1 (2)若CX不为零则转至标号处，否则向下执行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jmp 段地址:偏移地&lt;/td>
&lt;td>同时修改CS:IP&lt;/td>
&lt;td>无条件转移指令(&lt;strong>只能在debug中使用,不能在源程序中使用&lt;/strong>)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jmp 某一合法寄存器&lt;/td>
&lt;td>仅修改IP&lt;/td>
&lt;td>无条件转移指令,转移目的地址在寄存器中&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jmp short 标号&lt;/td>
&lt;td>&lt;/td>
&lt;td>段内短转移8位位移，仅修改IP，依据位移进行转移&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jmp near ptr 标号&lt;/td>
&lt;td>&lt;/td>
&lt;td>段内近转移16位位移，仅修改IP，依据位移进行转移&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jmp far ptr 标号&lt;/td>
&lt;td>&lt;/td>
&lt;td>段间转移，同时修改CS和IP,转移目的地址在指令中&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jmp word ptr 内存单元地址&lt;/td>
&lt;td>&lt;/td>
&lt;td>段内转移，仅修改IP,转移目的地址在内存中&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jmp dword ptr 内存单元地址&lt;/td>
&lt;td>CS=(内存单元地址+2) IP=内存单元地址&lt;/td>
&lt;td>段间转移，同时修改CS和IP,转移目的地址在内存中&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jcxz 标号&lt;/td>
&lt;td>用法:IP=IP+8位位移&lt;/td>
&lt;td>有条件转移指令,所有的有条件转移指令都是短转移,如果CX=0,转移到标号处执行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ret&lt;/td>
&lt;td>修改IP内容,实现近转移&lt;/td>
&lt;td>(1)IP=SS*16+SP (2)SP=SP+2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>retf&lt;/td>
&lt;td>修改CS和IP内容,实现远转移&lt;/td>
&lt;td>(1)IP=SS*16+SP (2)SP=SP+2 (3)CS=SS*16+SP (4)SP=SP+2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>iret&lt;/td>
&lt;td>通常和硬件自动完成的中断过程配合使用&lt;/td>
&lt;td>(1)pop IP (2)pop CS (3)popf&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>call 标号/16位reg&lt;/td>
&lt;td>将当前IP或CS和IP压入栈并转移(call不能实现短转移)&lt;/td>
&lt;td>(1)SP=SP-2 SS*16+SP=IP (2)IP=IP+16位位移/reg&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>call far ptr 标号&lt;/td>
&lt;td>实现段间转移&lt;/td>
&lt;td>(2)SP=SP-2 SS&lt;em>16+SP=CS SP=SP-2 SS&lt;/em>16+SP=IP (2)设置CS 设置IP&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>call word ptr 内存单元地址&lt;/td>
&lt;td>&lt;/td>
&lt;td>push IP jmp word ptr 内存单元地址&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>call dword ptr 内存单元地址&lt;/td>
&lt;td>&lt;/td>
&lt;td>push CS push IP jmp dword ptr 内存单元地址&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>(loop以及loop之后的的指令都是转移指令)&lt;/p>
&lt;h2 id="补充">补充
&lt;/h2>&lt;h3 id="div">div：
&lt;/h3>&lt;p>(1)除数有8位或16位，在一个寄存器或内存单元中
(2)被除数:默认放在ax中(除数位8位，被除数为16位)或放在AX和DX中(除数位16位，被除数为32位，DX存高16位AX存低16位)
(3)如果除数为8位，AL存商AH存余数；如果除数为16位，AX存商DX存余数。&lt;/p>
&lt;h3 id="mul">mul：
&lt;/h3>&lt;p>(1)两个数要么都是8位要么都是16位
(2)如果是8/16位，一个默认放在AL/AX中，另一个默认放在8位/16位reg或内存单元字节中
(3)如果为8位，结果默认放在AX,如果是16位DX默认放高位AX默认放低位。&lt;/p>
&lt;h3 id="flag寄存器">flag寄存器
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>15&lt;/th>
&lt;th>14&lt;/th>
&lt;th>13&lt;/th>
&lt;th>12&lt;/th>
&lt;th>11&lt;/th>
&lt;th>10&lt;/th>
&lt;th>9&lt;/th>
&lt;th>8&lt;/th>
&lt;th>7&lt;/th>
&lt;th>6&lt;/th>
&lt;th>5&lt;/th>
&lt;th>4&lt;/th>
&lt;th>3&lt;/th>
&lt;th>2&lt;/th>
&lt;th>1&lt;/th>
&lt;th>0&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>OF&lt;/td>
&lt;td>DF&lt;/td>
&lt;td>IF&lt;/td>
&lt;td>TF&lt;/td>
&lt;td>SF&lt;/td>
&lt;td>ZF&lt;/td>
&lt;td>&lt;/td>
&lt;td>AF&lt;/td>
&lt;td>&lt;/td>
&lt;td>PF&lt;/td>
&lt;td>&lt;/td>
&lt;td>CF&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>溢出标志位&lt;/td>
&lt;td>方向标志位&lt;/td>
&lt;td>可屏蔽中断标志&lt;/td>
&lt;td>TF&lt;/td>
&lt;td>符号标志位&lt;/td>
&lt;td>0标志位&lt;/td>
&lt;td>&lt;/td>
&lt;td>AF&lt;/td>
&lt;td>&lt;/td>
&lt;td>奇偶标志位PF&lt;/td>
&lt;td>&lt;/td>
&lt;td>进位标志位&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>记录相关命令执行后结果是否溢出,如果溢出OF=1否则为0&lt;/td>
&lt;td>控制每次操作后si,di的增减，如果df=0每次操作后si、di递增否则递减&lt;/td>
&lt;td>IF&lt;/td>
&lt;td>TF&lt;/td>
&lt;td>记录相关命令执行后结果是否为负,如果为负SF=1否则为0&lt;/td>
&lt;td>记录相关命令执行后结果是否为0,如结果为0，那么ZF=1否则ZF=0&lt;/td>
&lt;td>&lt;/td>
&lt;td>AF&lt;/td>
&lt;td>&lt;/td>
&lt;td>记录相关命令执行后结果所有bit为中1的个数是否为偶数,如果为偶数PF=1否则为0&lt;/td>
&lt;td>&lt;/td>
&lt;td>记录运算结果向更高位的进位值或向更高位的借位值&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="检测比较结果的条件转移指令">检测比较结果的条件转移指令
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>指令&lt;/th>
&lt;th>含义&lt;/th>
&lt;th>检测的相关标志位&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>je&lt;/td>
&lt;td>等于则转移&lt;/td>
&lt;td>zf=1&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jne&lt;/td>
&lt;td>不等于则 转移&lt;/td>
&lt;td>zf=0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jb&lt;/td>
&lt;td>低于则转移&lt;/td>
&lt;td>cf=1&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jnb&lt;/td>
&lt;td>不低于则转移&lt;/td>
&lt;td>cf=0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ja&lt;/td>
&lt;td>高于则转移&lt;/td>
&lt;td>cf=0且zf=0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>jna&lt;/td>
&lt;td>不高于则转移&lt;/td>
&lt;td>cf=1或zf=1&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;em>助记:j-&amp;gt;jump,e-&amp;gt;equal,n-&amp;gt;not,b-&amp;gt;below,a-&amp;gt;above&lt;/em>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="汇编程序的编写">汇编程序的编写
&lt;/h1>&lt;p>源程序-&amp;gt;编译-&amp;gt;连接-&amp;gt;执行&lt;/p>
&lt;ul>
&lt;li>
&lt;p>汇编语言中包含两种指令，一种是汇编指令，一种是伪指令，汇编指令最终是要被CPU执行的，为伪指令由编译器来执行&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>汇编源程序中，数据不能以字母开头&lt;/strong>，所以要在前面加0。如A000h应该写为0A000h。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在汇编源程序中，如果希望在&amp;rdquo;[]&amp;ldquo;中直接给出内存单元的偏移地址，则需要在&amp;rdquo;[]&amp;ldquo;前面显式的给出段地址所在的段寄存器。如 mov ax,ds:[0] (在汇编语言中称之为段前缀)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>db:定义一个字节 dw:定义一个字 dd:定义两个字 dup:用来进行数据重复&lt;code>db 3 dup(0)&lt;/code>定义了3个字节，他们的值都是0，相当于&lt;code>db 0,0,0&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>S:nop&lt;/code> 中nop代表no operation,空操作占用一个机器周期&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-asm" data-lang="asm">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">assume&lt;/span> &lt;span class="no">cs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="no">codeseg&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">codeseg&lt;/span> &lt;span class="no">segment&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 2*(123+456)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nf">mov&lt;/span> &lt;span class="no">ax&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0123&lt;/span>&lt;span class="no">H&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">mov&lt;/span> &lt;span class="no">bx&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0456&lt;/span>&lt;span class="no">H&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">add&lt;/span> &lt;span class="no">ax&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="no">bx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">add&lt;/span> &lt;span class="no">ax&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="no">ax&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">mov&lt;/span> &lt;span class="no">ax&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="no">c00H&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">int&lt;/span> &lt;span class="mi">21&lt;/span>&lt;span class="no">H&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">codeseg&lt;/span> &lt;span class="no">ends&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">;假设b是一个标号
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">b: db 10 dup(0)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mov ax,b
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mov b:[2],ax
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">;在指令中使用标号,它相当于一个地址同时还指定了长度
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>##伪指令&lt;/p>
&lt;p>(1) XXX segment
:
:
XXX ends&lt;/p>
&lt;blockquote>
&lt;p>segment和ends是成对使用的伪指令，这是在写可被编译器编译的汇编程序时必须用到的一对伪指令。segment和ends的功能是定义一个段，segment说明一个段的开始，ends说明一个段的结束。一个段必须有名称标记，使用格式为：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">段名 segment
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> :
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">段名 ends
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/blockquote>
&lt;p>利用此方法将代码段、数据段、栈段分隔开
(2) end&lt;/p>
&lt;blockquote>
&lt;p>end是一个汇编程序结束的标记，编译器在编译汇编程序的过程中，如果碰到了伪指令end，就结束对源程序的编译。(如果源程序有多个代码段，在end后面加上标号，以指定程序入口)&lt;/p>
&lt;/blockquote>
&lt;p>(3) assume&lt;/p>
&lt;blockquote>
&lt;p>这条伪指令的含义为“假设”。它假设某一段寄存器和程序中的某一个用segment&amp;hellip;ends 定义的段相关联&lt;/p>
&lt;/blockquote>
&lt;p>(4) 标号&lt;/p>
&lt;blockquote>
&lt;p>汇编源程序中，除了汇编指令和伪指令外，还有一些标号，比如“codeseg”。一个标号指代了一个地址。比如codeseg在segment前面，作为一个段的名称，这个段的名称最终将被编译、连接程序处理为一个段的段地址&lt;/p>
&lt;/blockquote>
&lt;p>(5) 程序返回&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mov ax,4c00H
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">int 21H
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="端口">端口
&lt;/h1>&lt;ul>
&lt;li>端口地址范围0~65535(oxffff)&lt;/li>
&lt;li>端口只能用in和out来从端口读取数据和往端口写入数据&lt;/li>
&lt;li>在in和out指令中，只能用ax或al来存放从端口中读入的数据或要发送到端口的数据&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>对0~255以内的端口进行读写时:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">in al,20h ;从20h端口读一个字节
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">out 20h,al ;往20端口写入一个字节
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>对256~65535的端口进行读写时,端口号放在dx中&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mov dx,3f8h
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">in al,dx ;从3f8h端口读一个字节
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">out dx,al ;向3f8h端口写一个字节
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/blockquote></description></item><item><title>unix内核源码剖析</title><link>https://nu11able.github.io/p/unix%E5%86%85%E6%A0%B8%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/</link><pubDate>Wed, 23 Feb 2022 00:00:00 +0000</pubDate><guid>https://nu11able.github.io/p/unix%E5%86%85%E6%A0%B8%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/</guid><description>&lt;h1 id="faq">FAQ
&lt;/h1>&lt;ul>
&lt;li>
&lt;p>Q:用户模式和内核模式有什么区别&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A:虚拟地址在用户模式时映射到用户程序的内存区域，在内核模式时则映射到内核程序的内存区域。内存映射的切换有MMU来实现&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Q:系统调用到底是什么&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A:用户程序由用户进程处理，无法访问加载内核程序的区域，也就无法执行由内核实现的功能。为了访问内核功能，用户程序必须通过系统调用向内核提出访问内核功能的请求&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Q:父进程为什么一定要得到子进程的处理结果才能够将子进程清理掉&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Q:PPDA(per process data area)和APR(active page register)到底是什么&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h1 id="第二章-进程">第二章 进程
&lt;/h1>&lt;ul>
&lt;li>内核程序在系统启动时被读取到内存中&lt;/li>
&lt;/ul>
&lt;h1 id="第三章-进程的管理1">第三章 进程的管理1
&lt;/h1>&lt;ul>
&lt;li>父进程在子进程结束时取其结束状态并释放进程资源&lt;/li>
&lt;li>子进程与父进程共享代码段(如果子进程执行了其他程序，那么这种关系将被打破)但有自己的数据段(写时复制技术)。&lt;/li>
&lt;li>&lt;/li>
&lt;/ul></description></item><item><title>Unix网络编程基础篇(例子)</title><link>https://nu11able.github.io/p/unix%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AF%87%E4%BE%8B%E5%AD%90/</link><pubDate>Wed, 23 Feb 2022 00:00:00 +0000</pubDate><guid>https://nu11able.github.io/p/unix%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%AF%87%E4%BE%8B%E5%AD%90/</guid><description>&lt;h1 id="unix网络编程基础篇例子">Unix网络编程基础篇(例子)
&lt;/h1>&lt;h2 id="一个简单的echo-clientserver">一个简单的echo client/server
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// server.cpp
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 单进程
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="cp">#include&amp;lt;iostream&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;unistd.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;sys/socket.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;arpa/inet.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;strings.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">output&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">str&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">sock_fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">socket&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SOCK_STREAM&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr_in&lt;/span> &lt;span class="n">ser_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">unsigned&lt;/span> &lt;span class="n">addr_len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr_in&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">clnt_addr_len&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bzero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">ser_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ser_addr&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ser_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_family&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AF_INET&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ser_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">htons&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">65535&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ser_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">s_addr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">htonl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">INADDR_ANY&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">ser_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ser_addr&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(;;)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">client_fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">accept&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">addr_len&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">client_tag&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">inet_ntop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">s_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">client_tag&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">client_tag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">capacity&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">client_tag&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">to_string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ntohs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_port&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;connected from &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">client_tag&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">client_tag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sc">&amp;#39;&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">recv_buf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">recv_buf&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">recv_buf&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">capacity&lt;/span>&lt;span class="p">())))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">client_tag&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">recv_buf&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">recv_buf&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client_fd&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>若没有特殊说明后续实现的server均可用此SimpleClient作为客户端连接&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// SimpleClient.cpp
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="cp">#include&amp;lt;iostream&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;unistd.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;arpa/inet.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;sys/socket.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;strings.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">output&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">str&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">sock_fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">socket&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SOCK_STREAM&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr_in&lt;/span> &lt;span class="n">serv&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">clnt&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bzero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">serv&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">serv&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">serv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_family&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">serv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">htons&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">65535&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">inet_pton&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;127.0.0.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">serv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_addr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">connect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">serv&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">serv&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">buffer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">buffer&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">buffer&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="s">&amp;#34;exit&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">capacity&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;server&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">buffer&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="一个简单的多进程echo服务器">一个简单的多进程echo服务器
&lt;/h2>&lt;p>&lt;code>注意点：使用fork创建子进程后要在主进程中要记得调用wait等函来等待子进程&lt;/code>&lt;/p>
&lt;blockquote>
&lt;p>当子进程走完了自己的生命周期后,它会执行exit()系统调用,内核释放该进程所有的资源,包括打开的文件,
占用的内存等。但是仍然为其保留一定的信息(包括进程号the process ID,退出码exit code,退出状态the terminationstatus of the process,
运行时间the amount of CPU time taken by the process等),这些数据会一直保留到系统将它传递给它的父进程为止,
直到父进程通过wait / waitpid来取时才释放。&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;iostream&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;unistd.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;sys/socket.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;arpa/inet.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;strings.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;sys/wait.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;algorithm&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;vector&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">output&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">str&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">sock_fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">socket&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SOCK_STREAM&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr_in&lt;/span> &lt;span class="n">ser_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">unsigned&lt;/span> &lt;span class="n">addr_len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr_in&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">clnt_addr_len&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bzero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">ser_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ser_addr&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ser_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_family&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AF_INET&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ser_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">htons&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">65535&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ser_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">s_addr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">htonl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">INADDR_ANY&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">ser_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ser_addr&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">children&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(;;)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">client_fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">accept&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">addr_len&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">client_tag&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">inet_ntop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">s_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">client_tag&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">client_tag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">capacity&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">client_tag&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">to_string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ntohs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_port&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;connected from &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">client_tag&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">pid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fork&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">pid&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">client_tag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sc">&amp;#39;&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">recv_buf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">recv_buf&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">recv_buf&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">capacity&lt;/span>&lt;span class="p">())))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">client_tag&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">recv_buf&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">recv_buf&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client_fd&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">children&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pid&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">client_tag&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34; is working on child process &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">pid&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client_fd&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">children&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">status&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">pid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">wait&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">children&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">erase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">children&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">children&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">pid&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">WIFEXITED&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;child &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">pid&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34; terminated normally&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;child &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">pid&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34; terminated with &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">WEXITSTATUS&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;server exit&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="基于select的非阻塞echo服务器">基于select的非阻塞echo服务器
&lt;/h2>&lt;p>上述的accept函数以及read函数都将阻塞我们的进程，为了同时处理多个请求我们不得不创建多个进程。我们无法知道套接字上的读写事件何时发生，而&lt;strong>select&lt;/strong>可以像一个像一个闹钟一样通知我们有我们关注的事件发生&lt;/p>
&lt;p>&lt;strong>int select(int nfds, fd_set *readfds, fd_set *writefds,fd_set *exceptfds, struct timeval *timeout);&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>void FD_CLR(int fd, fd_set *set);&lt;/p>
&lt;/li>
&lt;li>
&lt;p>int FD_ISSET(int fd, fd_set *set);&lt;/p>
&lt;/li>
&lt;li>
&lt;p>void FD_SET(int fd, fd_set *set);&lt;/p>
&lt;/li>
&lt;li>
&lt;p>void FD_ZERO(fd_set *set);&lt;/p>
&lt;p>&lt;code>select限制：&lt;/code>select使用fd_set数据类型作为描述符集，通常是一个数组，它的大小由FD_SETSIZE常值定义，通常为1024(即select最多能够同时监听的同一类型的最大数量为FD_SETSIZE)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ssize_t recv(int sockfd, void *buf, size_t len, int flags);&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>flags取值为MSG_DONTWAIT时可以实现非阻塞通信&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;iostream&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;unistd.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;sys/socket.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;sys/wait.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;sys/select.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;strings.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;string.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;arpa/inet.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;algorithm&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;map&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;vector&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">output&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">str&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">sock_fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">socket&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SOCK_STREAM&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr_in&lt;/span> &lt;span class="n">ser_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">unsigned&lt;/span> &lt;span class="n">addr_len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr_in&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">clnt_addr_len&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bzero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">ser_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ser_addr&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ser_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_family&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AF_INET&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ser_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">htons&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">65535&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ser_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">s_addr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">htonl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">INADDR_ANY&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">ser_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ser_addr&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fd_set&lt;/span> &lt;span class="n">allset&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rset&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">string&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">client_names&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">FD_SETSIZE&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">FD_SETSIZE&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">FD_ZERO&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">allset&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">FD_SET&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">allset&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxfd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sock_fd&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(;;)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">allset&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">ready&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">select&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">maxfd&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">rset&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">FD_ISSET&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">rset&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">client_fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">accept&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">addr_len&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">client_tag&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">inet_ntop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">s_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">client_tag&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">client_tag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">capacity&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">client_tag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sc">&amp;#39;:&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">client_tag&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">to_string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ntohs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_port&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;connected from &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">client_tag&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">bool&lt;/span> &lt;span class="n">unset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">FD_SETSIZE&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">client_fd&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">maxfd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">maxfd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">client_fd&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">unset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">client_names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">client_fd&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">client_tag&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">FD_SET&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">allset&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">unset&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;too many clients&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client_fd&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ready&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">recv_buf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">FD_SETSIZE&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">ready&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="n">FD_ISSET&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">rset&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="k">continue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">recv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">recv_buf&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">recv_buf&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">capacity&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">MSG_DONTWAIT&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">client_names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">recv_buf&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">recv_buf&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">errno&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EAGAIN&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">client_names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34; closed&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;error: &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">strerror&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">errno&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">FD_CLR&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">allset&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">allfd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ready&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sock_fd&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;server exit&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="基于poll的非阻塞echo服务器">基于poll的非阻塞echo服务器
&lt;/h2>&lt;blockquote>
&lt;p>回顾6.3结尾处我们就FD_SETSIZE以及就每个描述符集中最大描述符数目相比每个进
程中最大描述符数目展开了讨论。有了poll就不再由那样的问题了，因为分配一个
pollfd结构的数组并把数组中元素的数目通知内核成了调用者的责任。内核不再需要
知道类似fd_set的固定大小的数据类型。&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;sys/socket.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;arpa/inet.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;poll.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;signal.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;unistd.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;strings.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;string.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;iostream&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;vector&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;algorithm&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">short&lt;/span> &lt;span class="n">PORT&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">65535&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">LISTENQ&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">BUFFER_SIZE&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1024&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">bool&lt;/span> &lt;span class="n">exiting&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">output&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">str&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">exit_handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">signum&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">exiting&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">signal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SIGINT&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">exit_handler&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">serv_fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">socket&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SOCK_STREAM&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr_in&lt;/span> &lt;span class="n">serv_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">clnt_fd&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">unsigned&lt;/span> &lt;span class="n">addr_len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr_in&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bzero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">serv_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">addr_len&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">serv_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">htons&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">PORT&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">serv_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_family&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AF_INET&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">serv_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">s_addr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">htonl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">INADDR_ANY&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">serv_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">serv_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">addr_len&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">perror&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;bind&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">serv_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">LISTENQ&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">pollfd&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">events&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">string&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">names&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">struct&lt;/span> &lt;span class="nc">pollfd&lt;/span> &lt;span class="n">poll_temp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">poll_temp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">serv_fd&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">poll_temp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">events&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">POLLRDNORM&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">poll_temp&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">names&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;server&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(;;)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Specifying a negative value in timeout means an infinite timeout. Specifying a timeout of zero causes poll() to return
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// immediately, even if no file descriptors are ready.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">nready&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">poll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">revents&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">POLLRDNORM&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// new client connection
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">clnt_fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">accept&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">serv_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">addr_len&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">auto&lt;/span> &lt;span class="n">iter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">find_if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="p">[](&lt;/span>&lt;span class="k">auto&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">iter&lt;/span>&lt;span class="p">){&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">iter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">iter&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">iter&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clnt_fd&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">iter&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">events&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">POLLRDNORM&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">poll_temp&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">iter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">names&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">iter&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clnt_fd&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">iter&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">events&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">POLLRDNORM&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">inet_ntop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">capacity&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">c_str&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sc">&amp;#39;:&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">to_string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ntohs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_port&lt;/span>&lt;span class="p">)));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">distance&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">iter&lt;/span>&lt;span class="p">)]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;client &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">name&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34; connect&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">nready&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">nready&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">fd&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">continue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">revents&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">POLLRDNORM&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">POLLERR&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">buffer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BUFFER_SIZE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">recv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">capacity&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">MSG_DONTWAIT&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">errno&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EAGAIN&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;connection of &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34; was closed&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34; something error: &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">strerror&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">errno&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">exiting&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">server exiting&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">for_each&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="p">[](&lt;/span>&lt;span class="k">auto&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">mem&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">mem&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mem&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="基于epoll的非阻塞echo服务器">基于epoll的非阻塞echo服务器
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;sys/socket.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;sys/epoll.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;arpa/inet.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;signal.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;unistd.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;strings.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;string.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;iostream&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;string&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;vector&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;map&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;algorithm&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">short&lt;/span> &lt;span class="n">PORT&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">65535&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">LISTENQ&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">BUFFER_SIZE&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1024&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">bool&lt;/span> &lt;span class="n">exiting&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">output&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">str&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">exit_handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">signum&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">exiting&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">signal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SIGINT&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">exit_handler&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">serv_fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">socket&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SOCK_STREAM&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr_in&lt;/span> &lt;span class="n">serv_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">clnt_fd&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">unsigned&lt;/span> &lt;span class="n">addr_len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr_in&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bzero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">serv_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">addr_len&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">serv_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">htons&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">PORT&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">serv_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_family&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AF_INET&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">serv_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">s_addr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">htonl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">INADDR_ANY&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">serv_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">serv_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">addr_len&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">perror&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;bind&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">serv_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">LISTENQ&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;server running...&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">epoll_fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">epoll_create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LISTENQ&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">struct&lt;/span> &lt;span class="nc">epoll_event&lt;/span> &lt;span class="n">ev&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">epoll_event&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">events&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LISTENQ&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">opened_sockets&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">string&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">names&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ev&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">serv_fd&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ev&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">events&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">EPOLLIN&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">epoll_ctl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">epoll_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">EPOLL_CTL_ADD&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">serv_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">ev&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">serv_fd&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;server&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">opened_sockets&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">serv_fd&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">buffer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BUFFER_SIZE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(;;)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Specifying a timeout of -1 causes epoll_wait() to block indefinitely, while specifying a timeout equal to zero cause epoll_wait() to return imme‐ │kevin@kevin-virtual-machine:~/MINE/tingx/build$ ./client
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// diately, even if no events are available.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">nready&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">epoll_wait&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">epoll_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">LISTENQ&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// timeout = 100ms
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">nready&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// new client connection
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">serv_fd&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">clnt_fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">accept&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">serv_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">sockaddr&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">addr_len&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ev&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clnt_fd&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ev&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">events&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">EPOLLIN&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">epoll_ctl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">epoll_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">EPOLL_CTL_ADD&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">clnt_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">ev&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">inet_ntop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">capacity&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">c_str&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sc">&amp;#39;:&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">to_string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ntohs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clnt_addr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sin_port&lt;/span>&lt;span class="p">)));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">clnt_fd&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">opened_sockets&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">clnt_fd&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;client &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">name&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34; connected&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">recv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">capacity&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">MSG_DONTWAIT&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">errno&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EAGAIN&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;connection of &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34; was closed&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34; something error: &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">strerror&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">errno&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">opened_sockets&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">erase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">opened_sockets&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">opened_sockets&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">epoll_ctl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">epoll_fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">EPOLL_CTL_DEL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">events&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">exiting&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">server exiting&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">for_each&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">opened_sockets&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">opened_sockets&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="p">[](&lt;/span>&lt;span class="k">auto&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">mem&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mem&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="参考资料">参考资料
&lt;/h2>&lt;p>&lt;a class="link" href="https://blog.csdn.net/weixin_30919571/article/details/95053976" target="_blank" rel="noopener"
>Linux中的defunct进程(僵尸进程)&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.csdn.net/armlinuxww/article/details/92803381" target="_blank" rel="noopener"
>Epoll原理解析&lt;/a>&lt;/p>
&lt;p>《UNIX网络编程 卷1：套接字联网API》&lt;/p></description></item><item><title>vim</title><link>https://nu11able.github.io/p/vim/</link><pubDate>Sun, 20 Feb 2022 00:00:00 +0000</pubDate><guid>https://nu11able.github.io/p/vim/</guid><description>&lt;h1 id="vim使用记录">vim使用记录
&lt;/h1>&lt;h2 id="单按键命令">&lt;code>单按键命令&lt;/code>
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>按键&lt;/th>
&lt;th>功能&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>h&lt;/td>
&lt;td>前&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>j&lt;/td>
&lt;td>下&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>k&lt;/td>
&lt;td>上&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>l&lt;/td>
&lt;td>后&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ESC&lt;/td>
&lt;td>进入nomal模式&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>i&lt;/td>
&lt;td>进入INSERT模式&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>v&lt;/td>
&lt;td>进入选择模式&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>V&lt;/td>
&lt;td>选择整行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>y&lt;/td>
&lt;td>复制&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>p&lt;/td>
&lt;td>粘贴&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0&lt;/td>
&lt;td>将光标移到行首(数字0)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>^&lt;/td>
&lt;td>将光标移到该行第一个字母位置&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>$&lt;/td>
&lt;td>将光标移到行位&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>a&lt;/td>
&lt;td>在光标后插入&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>A&lt;/td>
&lt;td>在行尾插入(相当于$a)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>o&lt;/td>
&lt;td>在下一行插入(相当于vscode中ctrl+enter)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>O&lt;/td>
&lt;td>在上一行插入(相当于vscode中ctrl+shift+enter)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>x&lt;/td>
&lt;td>删除一个字符&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>w&lt;/td>
&lt;td>移动至下一个单词开始位置&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>e&lt;/td>
&lt;td>移动至当前单词末尾&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>b&lt;/td>
&lt;td>后退一个单词&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>u&lt;/td>
&lt;td>撤销命令&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>U&lt;code>？&lt;/code>&lt;/td>
&lt;td>To undo all the changes on a line&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>p&lt;/td>
&lt;td>将粘贴板的内容复制到光标后面(lowercase)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>P&lt;/td>
&lt;td>将粘贴板的内容复制到光标前面(uppercase)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="窗口分割">窗口分割
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>命令&lt;/th>
&lt;th>功能&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>:sp [filename]&lt;/td>
&lt;td>水平分割窗口&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>:vsplit [filename]&lt;/td>
&lt;td>垂直分割窗口&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl+w+方向键&lt;/td>
&lt;td>切换到前／下／上／后一个窗格&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl+w+h/j/k/l&lt;/td>
&lt;td>同上&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl+ww&lt;/td>
&lt;td>依次向后切换到下一个窗格中&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="组合按键命令">&lt;code>组合按键命令&lt;/code>
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>按键&lt;/th>
&lt;th>功能&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>dw&lt;/td>
&lt;td>删除至下一个单词开始&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>de&lt;/td>
&lt;td>删除至当前单词末尾&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>dd&lt;/td>
&lt;td>删除整行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>d$&lt;/td>
&lt;td>删除光标位置到行尾&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>r?&lt;/td>
&lt;td>r+任意按键：将光标位置修改为所按按键&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ce&lt;/td>
&lt;td>删除光标至当前单词末尾并进入INSERT模式(相当于dei)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>&lt;strong>d [number] motion&lt;/strong>, d: delete&lt;/li>
&lt;li>&lt;strong>c [number] motion&lt;/strong>, c: change&lt;/li>
&lt;/ul>
&lt;h2 id="命令说明">&lt;code>命令说明&lt;/code>
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>命令&lt;/th>
&lt;th>功能&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>/word&lt;/td>
&lt;td>搜索word&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>s/old/new&lt;/td>
&lt;td>to substitute &amp;rsquo;new&amp;rsquo; for &amp;lsquo;old&amp;rsquo;(只替换一次)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>s/old/new/g&lt;/td>
&lt;td>to substitute &amp;rsquo;new&amp;rsquo; for &amp;lsquo;old&amp;rsquo;(修改该行内所有匹配)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>#,#s/old/new/g&lt;/td>
&lt;td>where #,# are the line numbers of the range of lines where the substitution is to be done.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>%s/old/new/g&lt;/td>
&lt;td>to change every occurrence in the whole file.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>%s/old/new/gc&lt;/td>
&lt;td>to find every occurrence in the whole file, with a prompt whether to substitute or not.(c : confirm)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>!command&lt;/td>
&lt;td>execute the external command.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="其他快捷按键">&lt;code>其他快捷按键&lt;/code>
&lt;/h2>&lt;ul>
&lt;li>
&lt;blockquote>
&lt;p>Type % to find a matching ),], or }&lt;/p>
&lt;/blockquote>
&lt;p>在[, (或 { 按下 % 可以快速移动到与之匹配的括号处&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在选择模式下按下:进入命令模式w TEST会将选中的内容保存到TEST文件中&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在命令模式下: r FILENAME 会将FILENAME的内容插入到下一行，&lt;strong>r !ls将ls命令的执行结果插入到后一行&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>To go back to where you came from press &lt;strong>CTRL-O&lt;/strong> (Keep Ctrl down while pressing the letter o). Repeat to go back further. CTRL-I goes forward.&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>GDB</title><link>https://nu11able.github.io/p/gdb/</link><pubDate>Mon, 10 Jan 2022 00:00:00 +0000</pubDate><guid>https://nu11able.github.io/p/gdb/</guid><description>&lt;h1 id="chapter-1">Chapter 1
&lt;/h1>&lt;p>gdb &lt;code>startfile&lt;/code>&lt;/p>
&lt;p>set width w(a number)&lt;/p>
&lt;p>break breakpoint &lt;code>it could be line number|function name|address&lt;/code>&lt;/p>
&lt;p>run&lt;/p>
&lt;p>n &lt;code>next. line&lt;/code>&lt;/p>
&lt;p>s &lt;code>step. into the function&lt;/code>&lt;/p>
&lt;p>bt &lt;code>backtrace.&lt;/code>&lt;/p>
&lt;p>p lquote &lt;code>print. the value of lquote&lt;/code>&lt;/p>
&lt;ul>
&lt;li>you can also use &lt;code>p&lt;/code> to assign a specific value to an element,such as &lt;code>p len_lquote=strlen(lquote)&lt;/code>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>We can set them to better values using the p command, since it can print the value of any expression—and that expression can include subroutine calls and assignments.&lt;/p>
&lt;/blockquote>
&lt;p>l &lt;code>list. the source surrounding the current line(10 lines by default) &lt;/code>&lt;/p>
&lt;ul>
&lt;li>you can use &amp;ldquo;l 50&amp;rdquo; to display the source surrounding the 50th line&lt;/li>
&lt;/ul>
&lt;p>c &lt;code>continue.&lt;/code>&lt;/p>
&lt;h1 id="chapter-2">Chapter 2
&lt;/h1>&lt;p>Ctrl-d &lt;code>Program exited normally&lt;/code>&lt;/p>
&lt;p>q &lt;code>quit. the gdb&lt;/code>&lt;/p>
&lt;blockquote>
&lt;p>The most usual way to start gdb is with one argument, specifying an executable program:&lt;code>gdb program&lt;/code>
You can also start with both an executable program and a core file specified:&lt;code>gdb program core&lt;/code>
You can, instead, specify a process ID as a second argument or use option -p, if youwant to debug a running process:&lt;code>gdb program 1234|gdb -p 1234&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;code>gdb --args gcc -O2 -c foo.c &lt;/code>This will cause gdb to debug gcc, and to set gcc’s command-line arguments (see
Section 4.3 [Arguments], page 34) to ‘-O2 -c foo.c.&lt;/p>
&lt;/blockquote>
&lt;p>gdb &amp;ndash;silent|-quiet|-q &lt;code>Do not print the introductory and copyright message&lt;/code>&lt;/p>
&lt;p>gdb &amp;ndash;help | gdb -h&lt;/p>
&lt;p>gdb &amp;ndash;cd directory &lt;code>Run gdb using directory as its working directory, instead of the current directory&lt;/code>&lt;/p>
&lt;blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="o">!&lt;/span>&lt;span class="n">command&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Invoke&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="n">standard&lt;/span> &lt;span class="n">shell&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">execute&lt;/span> &lt;span class="n">command&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">string&lt;/span>&lt;span class="o">.&lt;/span> &lt;span class="n">Note&lt;/span> &lt;span class="n">that&lt;/span> &lt;span class="n">no&lt;/span> &lt;span class="n">space&lt;/span> &lt;span class="n">is&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">needed&lt;/span> &lt;span class="n">between&lt;/span> &lt;span class="o">!&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">command&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">string&lt;/span>&lt;span class="o">.&lt;/span> &lt;span class="n">If&lt;/span> &lt;span class="n">it&lt;/span> &lt;span class="n">exists&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">environment&lt;/span> &lt;span class="n">variable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">SHELL&lt;/span> &lt;span class="n">determines&lt;/span> &lt;span class="n">which&lt;/span> &lt;span class="n">shell&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">run&lt;/span>&lt;span class="o">.&lt;/span> &lt;span class="n">Otherwise&lt;/span> &lt;span class="n">gdb&lt;/span> &lt;span class="n">uses&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">default&lt;/span> &lt;span class="n">shell&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="err">‘&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">bin&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">sh&lt;/span>&lt;span class="err">’&lt;/span> &lt;span class="n">on&lt;/span> &lt;span class="n">Unix&lt;/span> &lt;span class="n">systems&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="err">‘&lt;/span>&lt;span class="n">COMMAND&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">COM&lt;/span>&lt;span class="err">’&lt;/span> &lt;span class="n">on&lt;/span> &lt;span class="n">MS&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">DOS&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">etc&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/blockquote>
&lt;blockquote>
&lt;p>pipe [command] | shell_command
| [command] | shell_command
pipe -d delim command delim shell_command
| -d delim command delim shell_command
Executes command and sends its output to shell command. Note that no space
is needed around |. If no command is provided, the last command executed is
repeated.
In case the command contains a |, the option -d delim can be used to specify an alternate delimiter string delim that separates the command from the
shell command.
Example:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">gdb&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="k">var&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">$&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">black&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">144&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">red&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">233&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">green&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">377&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">blue&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">610&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">white&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">987&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">gdb&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">pipe&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="n">wc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">7&lt;/span> &lt;span class="mi">19&lt;/span> &lt;span class="mi">80&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">gdb&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="n">wc&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">l&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">7&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">gdb&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="k">var&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">$&lt;/span>&lt;span class="mi">4&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">black&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">0x90&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">red&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">0xe9&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">green&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">0x179&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">blue&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">0x262&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">white&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">0x3db&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">gdb&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">||&lt;/span>&lt;span class="n">grep&lt;/span> &lt;span class="n">red&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">red&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="mh">0xe9&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">gdb&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">!&lt;/span> &lt;span class="n">echo&lt;/span> &lt;span class="n">this&lt;/span> &lt;span class="n">contains&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">char&lt;/span>\&lt;span class="n">n&lt;/span> &lt;span class="o">!&lt;/span> &lt;span class="n">sed&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="err">’&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="o">/|/&lt;/span>&lt;span class="n">PIPE&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">’&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">this&lt;/span> &lt;span class="n">contains&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="n">PIPE&lt;/span> &lt;span class="n">char&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">gdb&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="n">xxx&lt;/span> &lt;span class="n">echo&lt;/span> &lt;span class="n">this&lt;/span> &lt;span class="n">contains&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">char&lt;/span>&lt;span class="o">!&lt;/span>\&lt;span class="n">n&lt;/span> &lt;span class="n">xxx&lt;/span> &lt;span class="n">sed&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="err">’&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="o">/|/&lt;/span>&lt;span class="n">PIPE&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">’&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">this&lt;/span> &lt;span class="n">contains&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="n">PIPE&lt;/span> &lt;span class="n">char&lt;/span>&lt;span class="o">!&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">gdb&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>The convenience variables $_shell_exitcode and $_shell_exitsignal can be used to
examine the exit status of the last shell command launched by shell, make, pipe and |.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/blockquote>
&lt;h1 id="gdb-commands">GDB commands
&lt;/h1>&lt;blockquote>
&lt;p>set print elements NUMBER-OF-ELEMENTS
set print array-indexes
set print elements 10 # to change the limit of array elements to print&lt;/p>
&lt;/blockquote></description></item><item><title>ubuntu安装及美化</title><link>https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/</link><pubDate>Sun, 03 May 2020 00:00:00 +0000</pubDate><guid>https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/</guid><description>&lt;h1 id="安装ubuntu">安装ubuntu
&lt;/h1>&lt;p>这里我采用的是VMwarePro15虚拟机，实体机上也是一样的步骤，只不过要自己制作启动盘。(本教程写给linux小白看的，当然我自己也比小白好不了多少，其中难免有不当之处，还望告知[也将此篇文章当做自己的一个学习笔记，不定时更新])&lt;/p>
&lt;p>说明一下为啥选择ubuntu，以前刚开始学习使用linux的时候要安装软件通常都不知道名字叫啥，知道命令是apt install xxxxx，就是不知道后面该加什么东西，后面发现ubuntu的提示实在太感人,比如我要使用ifconfig它会提示我安装net-tools，也许其他系统也有只是我没发现，没错！！就因为这个慢慢的爱上ubuntu。233&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/apt%E8%87%AA%E5%8A%A8%E6%8F%90%E7%A4%BA.png"
width="1137"
height="868"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/apt%E8%87%AA%E5%8A%A8%E6%8F%90%E7%A4%BA_hu11610449754463554679.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/apt%E8%87%AA%E5%8A%A8%E6%8F%90%E7%A4%BA_hu2285593097109216415.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="314px"
>&lt;/p>
&lt;h2 id="开始安装ubuntu1804httpsubuntucomdownloaddesktop-ubuntu官网">开始安装&lt;a class="link" href="https://ubuntu.com/download/desktop" title="ubuntu官网"
target="_blank" rel="noopener"
>ubuntu18.04&lt;/a>
&lt;/h2>&lt;h3 id="step1">step1
&lt;/h3>&lt;p>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu1.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu1_hu12910437173417494253.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu1_hu4242772917285499164.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
选择稍后安装操作系统
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu2.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu2_hu2290494048767332753.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu2_hu6166489202552793242.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
选择linux ubuntu
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu3.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu3_hu18133400740566672699.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu3_hu16505254025998800058.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
选择自己的安装位置
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu4.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu4_hu4487982576644181030.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu4_hu7723284362771492799.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
在指定磁盘容量的时候如果打算长期使用的话建议磁盘稍微大一点
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu5.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu5_hu9340960917753268374.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu5_hu12188903944511983393.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
点击编辑此虚拟机
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu6.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu6_hu11756210398872837273.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu6_hu1419098991989228790.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
从CD/DVD中添加自己下载的系统
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu7.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu7_hu6995626177672184789.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu7_hu6304243043817172126.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu8.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu8_hu10907447897116101056.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu8_hu6338895775583157742.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
开启此虚拟机
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu9.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu9_hu11047019303421495135.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu9_hu14504958816948732346.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>&lt;/p>
&lt;h3 id="step2">step2
&lt;/h3>&lt;p>install ubuntu&lt;code>在这一步你们可以选择chinese&lt;/code>，设置系统语言，也可以安装之后再改
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu10.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu10_hu16446022034529348930.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu10_hu4658233846074489868.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
一路continue下去就好了
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu12.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu12_hu7109252728541639682.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu12_hu11420402311531626788.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
&lt;strong>在这一步的时候把Download updates while installing ubuntu那一选项去掉&lt;/strong>
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu11.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu11_hu81690894223506827.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu11_hu7870843440779891298.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu13.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu13_hu13664709809659715950.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu13_hu1239229293237903612.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
选择时区
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu14.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu14_hu4062832089092817585.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu14_hu736666123274773972.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
设置用户名和密码&lt;code>这里设置的密码务必记住，待会儿登录大的时候要用&lt;/code>
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu15.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu15_hu11689272317888593871.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu15_hu11541601528110745507.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
开始安装
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu16.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu16_hu729646801722901329.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu16_hu2826606933706684007.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu17.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu17_hu14698474505055372530.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu17_hu8109490486266190899.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
发现是不是安装的好慢？&lt;code>告诉你们一个小秘密，其实这里是可以点击skip的&lt;/code>安装的过程好像会联网下载什么东西还是啥的我也不是很清楚，如果不放心的话可以断开网络安装
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu18.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu18_hu16734983178032238579.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu18_hu9604850669792791079.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
点击重启
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu19.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu19_hu5704526920079152185.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu19_hu14047736116276387305.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
输入刚刚设置的密码就可以登录了
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu20.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu20_hu6294202835902068307.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85ubuntu20_hu264992650300877239.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>&lt;/p>
&lt;h2 id="ubuntu-美化">ubuntu 美化
&lt;/h2>&lt;p>首先先来确定一下主要美化哪几个方面:&lt;/p>
&lt;ul>
&lt;li>壁纸(桌面壁纸、锁屏壁纸)&lt;/li>
&lt;li>图标(就是你在桌面上看到的那些图标)&lt;/li>
&lt;li>主题(什么是主题？这个我也不好说)&lt;/li>
&lt;li>终端terminal(一个漂亮的ubuntu怎么能少了一个漂亮的终端)&lt;/li>
&lt;li>shell(修改了之后最直观的就是顶部的菜单栏改变了)&lt;/li>
&lt;li>开机动画&lt;/li>
&lt;li>任务栏&lt;/li>
&lt;/ul>
&lt;p>说明一下美化的话需要我们安装插件，你可以通过浏览器来安装插件(前提示已经安装了​chrome-gnome-shell插件)也可以通过命令行来安装(但是有些插件的安装命令我也不知道咋输)，所以安装插件我一般通过浏览器来安装&lt;/p>
&lt;h3 id="step0安装chrome-gnome-shell">step0：安装​chrome-gnome-shell
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt install chrome-gnome-shell
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/chrome_shell1.png"
width="1372"
height="925"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/chrome_shell1_hu4849534898343460575.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/chrome_shell1_hu12215269928552816485.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="148"
data-flex-basis="355px"
>
安装好了之后再浏览器输入https://extensions.gnome.org/ 打开之后会有一个警告，点击Click here to install browser extension 安装浏览器拓展，按照提示安装，下载完后点击 Add 即可。
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/chrome_shell2.png"
width="1257"
height="871"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/chrome_shell2_hu16938268102112553366.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/chrome_shell2_hu8770437427343028939.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="144"
data-flex-basis="346px"
>
安装完了之后我们可以通过浏览器来管理我们安装的插件(这个时候你可以看到右上角有一个黑色的脚丫子图标,以后直接点击该图标就可以进入“主页”)
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/chrome_shell3.png"
width="1257"
height="871"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/chrome_shell3_hu4638412224206313259.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/chrome_shell3_hu13691536021213147230.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="144"
data-flex-basis="346px"
>
我这里安装的插件有些多，这是因为我之前安装gnome-shell-extensions软件包，里面包含了许多插件，你们可以通过apt install gnome-shell-extensions 安装，也可以后面用到啥插件的时候用浏览器安装&lt;/p>
&lt;h3 id="step1安装tweak-tool美化软件在这里你可以设置壁纸图标主题">step1：安装tweak tool（美化软件，在这里你可以设置壁纸、图标、主题&amp;hellip;）、
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt install gnome-tweak-tool
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/tweak1.png"
width="1518"
height="1003"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/tweak1_hu14915578217664955268.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/tweak1_hu3333619313661453147.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="151"
data-flex-basis="363px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/tweak2.png"
width="1518"
height="1003"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/tweak2_hu7808423937067424245.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/tweak2_hu6396382514853882551.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="151"
data-flex-basis="363px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/tweak3.png"
width="1518"
height="1003"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/tweak3_hu6472507662313890179.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/tweak3_hu5017404922940272208.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="151"
data-flex-basis="363px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/tweak4.png"
width="1257"
height="871"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/tweak4_hu7665263522575522259.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/tweak4_hu10312438052056666956.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="144"
data-flex-basis="346px"
>&lt;/p>
&lt;h3 id="step2下载主题图标等等">step2：下载主题、图标等等
&lt;/h3>&lt;p>简单的说明一下：在官网下载了相应的文件之后，将其解压到相应的位置然后就可以通过tweak这个工具来修改了&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">themes --&amp;gt; /usr/share/themes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">shell --&amp;gt; /usr/share/themes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">icon --&amp;gt; /usr/share/icons
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">开机动画 --&amp;gt; /usr/share/plymouth/themes
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://www.gnome-look.org" target="_blank" rel="noopener"
>官网&lt;/a>
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E4%B8%BB%E9%A2%980.png"
width="1113"
height="812"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E4%B8%BB%E9%A2%980_hu5188857002576509571.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E4%B8%BB%E9%A2%980_hu12047200476988037584.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="137"
data-flex-basis="328px"
>
我这里直接给出几个链接&lt;/p>
&lt;p>&lt;a class="link" href="https://www.gnome-look.org/p/1275087/" target="_blank" rel="noopener"
>主题&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.opendesktop.org/p/1305429/" target="_blank" rel="noopener"
>图标&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.gnome-look.org/s/Gnome/p/1013030/" target="_blank" rel="noopener"
>shell&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.gnome-look.org/s/Gnome/p/1207015/" target="_blank" rel="noopener"
>登录界面&lt;/a> 下载的时候注意自己的系统版本，别下错了&lt;/p>
&lt;p>&lt;a class="link" href="https://www.gnome-look.org/s/Gnome/p/1009736/" target="_blank" rel="noopener"
>开机动画&lt;/a> 我承认我放弃了，可能是虚拟机的原因(修改了也没起作用)&lt;/p>
&lt;h3 id="step3前面准备工作已经做完了下面开始正式修改">step3：前面准备工作已经做完了，下面开始正式修改
&lt;/h3>&lt;p>ok，前面已经下载了需要的文件，可以开始修改了，除了开机动画之外其他的很简单，把下载的文件解压后发到对应的目录下，打开tweaks就可以修改了&lt;/p>
&lt;p>下载主题的时候我多下载了几个主题，图中我标出了shell和icon其他的都是主题
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%961.png"
width="1540"
height="967"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%961_hu9382776578966141935.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%961_hu11504537765248635960.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="382px"
>
下面分别把文件解压之后移动到对应的目录下&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 解压命令&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar xf 你下载的文件
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 将解压的文件移动到对应的目录，shell和主题都是移动到usr/share/themes/ 目录下，icon移动到/usr/shar/icons/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mv 目标文件 目的地
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%962.png"
width="1540"
height="967"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%962_hu14248149813609374731.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%962_hu2810877487858640394.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="382px"
>
做好这些之后可以先右键选张好看的背景(通过前面的类比你可以发现/usr/share/backgrounds里面存放的就是壁纸)
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%963.png"
width="1540"
height="967"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%963_hu1645826724475391794.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%963_hu15012198776846600680.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="382px"
>
打开tweak修改成我们下载的文件
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%964.png"
width="1540"
height="967"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%964_hu10825270285325952346.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%964_hu16248855577622710163.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="382px"
>
修改之后
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%965.png"
width="1540"
height="967"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%965_hu15362157473637852580.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%965_hu11890605755738463202.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="382px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%966.png"
width="1540"
height="967"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%966_hu11823713887246163608.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%966_hu9152582477988559696.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="382px"
>
将任务栏发到下边居中
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%967.png"
width="1540"
height="967"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%967_hu17120290266090276789.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%967_hu14330580005274107695.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="382px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%968.png"
width="1920"
height="1080"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%968_hu12513630998025369809.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%968_hu11015558044663624436.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>
有的人喜欢透明的terminal
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%969.png"
width="1920"
height="1080"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%969_hu13336276728572020943.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%969_hu8395843721746358690.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;h3 id="step4修改登录界面">step4：修改登录界面
&lt;/h3>&lt;p>将下载的gdm themes文件解压之后进入运行install脚本即可
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9613.png"
width="1365"
height="971"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9613_hu8771746783265462751.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9613_hu13364737276584697998.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>
按照提示alt+f2应用我们所做的修改
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9614.png"
width="1365"
height="971"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9614_hu2417604199779475857.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9614_hu15913058392387076080.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>
查看一下效果
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9615.png"
width="1365"
height="971"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9615_hu8812918483718188263.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9615_hu5405789510382348942.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>
&lt;code>??这个背景怎么不太对？&lt;/code>下面将记录我解决这一问题的思路；通常我认为授人以鱼不如授人以渔，以前刚入门linux的时候遇到的问题就网上搜索解决方案，但网络上通常直接给出几条命令，至于为什么是这样修改的就不知道了；现在慢慢的熟悉了linux之后也渐渐的懂得了如何查找问题所在。&lt;/p>
&lt;p>现在使用vim查看一线我们使用的安装脚本，就是那个install脚本&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vim install.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9616.png"
width="1365"
height="971"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9616_hu4543955284781419698.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9616_hu10952738686842241041.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>第一行我们可以看到它将文件下的一个.css文件复制到了/usr/share/gnome-shell/theme/ubuntu.css
之前查找如何修改锁屏壁纸的时候总是需要去修改/etc/alternatives/gdm3.css的文件，其实这个文件就是连接到/usr/share/gnome-shell/theme/ubuntu.css的。就相当于是windows下的快捷方式一样
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9617.png"
width="1365"
height="971"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9617_hu1184055074317833246.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9617_hu16254508305539486666.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>
那么现在思路就清晰了，安装脚本替换了我们电脑上原本的按个.css样式文件，但是现在锁屏壁纸异常，那么我们查看gdm3.css文件下有关锁屏壁纸的那一部分就可以找到答案了，找到lockDialogGroup，可以看到background是一个url的本地链接，用文件打开到相应的目录并没有发现一个叫gdmlock.jpg的图片，那么现在应该清楚为什么显示异常了
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9618.png"
width="1365"
height="971"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9618_hu12640092647257599005.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9618_hu6692303515819360136.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>
修改一个自己喜欢的背景
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9619.png"
width="1365"
height="971"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9619_hu15686177935009922631.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9619_hu9296851710731477312.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>
问题解决
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9620.png"
width="1365"
height="971"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9620_hu1463271118756170533.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E7%BE%8E%E5%8C%9620_hu17707036926527868483.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>&lt;/p>
&lt;h3 id="step5安装zsh美化终端">step5：安装zsh美化终端
&lt;/h3>&lt;p>&lt;a class="link" href="https://blog.csdn.net/sinat_38804294/article/details/90262473" target="_blank" rel="noopener"
>参考链接1&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://ywnz.com/linuxmh/3190.html" target="_blank" rel="noopener"
>参考链接2&lt;/a>&lt;/p>
&lt;p>啥时候有空再自己写一个吧&lt;/p>
&lt;h3 id="step6开机动画">step6：开机动画
&lt;/h3>&lt;p>&lt;strong>经供参考，我自己也没成功233&lt;/strong>&lt;/p>
&lt;p>虽然没有成功，单也做一个自己的学习记录吧，不知道是不是虚拟机的问题(如果哪位老哥虚拟机下能够修改成功还望能够分享一下)&lt;/p>
&lt;p>将下载的plymouth theme解压到/usr/share/plymouth/themes目录下&lt;/p>
&lt;p>执行命令&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo update-alternatives --install /usr/share/plymouth/themes/default.plymouth
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">default.plymouth /usr/share/plymouth/themes/&lt;span class="s2">&amp;#34;path/to-your-plymouth.plymouth&amp;#34;&lt;/span> &lt;span class="m">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo update-initramfs -u &lt;span class="c1">#应用修改&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 也可以&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo update-alternatives --config default.plymouth
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>其实主要修改的是
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%BC%80%E6%9C%BA%E5%8A%A8%E7%94%BB1.png"
width="1365"
height="971"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%BC%80%E6%9C%BA%E5%8A%A8%E7%94%BB1_hu8713053159577861691.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%BC%80%E6%9C%BA%E5%8A%A8%E7%94%BB1_hu10523625751955994924.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>
但是我修改之后发现没有ScriptFile字段&lt;em>可能这就是原因&lt;/em>(但是我下载的文件里本就没有.script文件&amp;hellip;后面再查一下资料吧)
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%BC%80%E6%9C%BA%E5%8A%A8%E7%94%BB2.png"
width="1365"
height="971"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%BC%80%E6%9C%BA%E5%8A%A8%E7%94%BB2_hu13950905735548703266.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%BC%80%E6%9C%BA%E5%8A%A8%E7%94%BB2_hu13786864187635687021.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>&lt;/p>
&lt;h2 id="常见问题解决">常见问题解决
&lt;/h2>&lt;h3 id="解决虚拟机窗口大小无法改变安装vmware-tools">解决虚拟机窗口大小无法改变(安装VMware tools)
&lt;/h3>&lt;p>点击虚拟机-&amp;gt;安装VMware tools
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools1.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools1_hu16743242919882252990.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools1_hu18321947689294779276.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
此时桌面上出现了一个DVD光盘的图标，然后我们右键-&amp;gt;Open terminal 打开命令行(&lt;code>当你习惯命令行之后会发现命令行使用起来是如此的自然、简介、唯美&lt;/code>)
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools2.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools2_hu12479050530350711866.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools2_hu7749700057975758916.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
emm&amp;hellip;这里看起来好像不是很清楚，我把我的命令列举并说明一下吧&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsblk &lt;span class="c1">#这个命令我就不说了 我一般拿来查看有哪些挂载点的 一般都会在/media目录下 其他的对于新手来说先不用管(其实我也不是很清楚)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /media/learning/VMware&lt;span class="se">\ &lt;/span>Tools/ &lt;span class="c1">#进入这个指定的目录 这个地方learning应该是你自己的用户名 tips:按tab键会自动补全&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls &lt;span class="c1">#查看当前目录下有哪些东西 看到红色的那个压缩包了没，那就是我们需要的东西了&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mv VMwareTools-10.3.10-13959562.tar.gz ~ &lt;span class="c1">#将压缩包移动到我们账户的主目录下&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ~ &lt;span class="c1">#进入我们的主目录&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls &lt;span class="c1">#查看当前目录下有哪些东西&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar -xf VMwareTools-10.3.10-13959562.tar.gz &lt;span class="c1">#将压缩包解压&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> vmware-tools-distrib/ &lt;span class="c1">#进入解压之后的文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls &lt;span class="c1">#查看当前目录下有哪些东西&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo vmware-install.pl &lt;span class="c1"># 执行安装脚本开始安装 这个时候需要你输入密码(输入的密码是不可见的，你的键盘没坏)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#下面是不带注释的版本&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lsblk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /media/learning/VMware&lt;span class="se">\ &lt;/span>Tools/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mv VMwareTools-10.3.10-13959562.tar.gz ~
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ~
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar -xf VMwareTools-10.3.10-13959562.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> vmware-tools-distrib/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo vmware-install.pl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools3.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools3_hu15111428485283552438.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools3_hu18306499609236620387.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
开始安装之后一路回车下去就ok了(全选默认)
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools4.png"
width="1282"
height="1002"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools4_hu11988615555598010165.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools4_hu1308735822970440981.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="127"
data-flex-basis="307px"
>
然后就可以看到窗口完美的匹配上了
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools5.png"
width="1351"
height="984"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools5_hu13468515103680773743.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/vmtools5_hu6748392766382333633.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="137"
data-flex-basis="329px"
>&lt;/p>
&lt;h3 id="解决安装软件慢的问题所谓的linux安装之后必做的事之一--换源">解决安装软件慢的问题(所谓的linux安装之后必做的事之一&amp;ndash;换源)
&lt;/h3>&lt;p>大概说一下吧换源是个怎么回事吧(个人理解)：我们使用windows安装软件的时候都会去网上找资源然后下载，然而在linux里面当你使用命令行(当然你也可以像使用windows一样去网上找[有一些是不得不这么做])apt install 等命令安装东西的时候(你可以以为apt就是windows下的软件管家，[其实我就是这么以为的])它会去它的仓库找你要安装的软件然后下载下来给你装上，默认的仓库位置是国外的，所以下载的速度会非常非常非常慢，换源就是给它换个仓库的意思。下面开始进入正题:&lt;/p>
&lt;p>再扯两句:linux下很多东西都是可以配置的，而这些配置规则有一个专门的文件来存储&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cd /etc/apt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以看到有一个sources.list文件
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%901.png"
width="1328"
height="984"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%901_hu5999566430993140321.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%901_hu6197730014803600633.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="323px"
>
查看一下这个文件的内容是啥vi sources.list # vi 是vim的前身(可以看到有很多东西都是被注释掉的，#号开头的就是被注释掉的 那几个没有被注释掉的网址就是仓库的位置)
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%902.png"
width="1328"
height="984"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%902_hu13573296194160409083.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%902_hu3123880938766412942.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="323px"
>&lt;code>！！！！我怎么退出不了？？！！！自己去百度一下vi怎么退出！哈哈哈！！&lt;/code>&lt;/p>
&lt;p>现在开始换源，换源之前先另存一份sudo mv sources.list sources.list.backup(后面有空再说sudo命令)
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%903.png"
width="1328"
height="984"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%903_hu2457040834956993983.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%903_hu2279668586336527887.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="323px"
>
我比较喜欢用清华的源
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%904.png"
width="928"
height="684"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%904_hu953373531031930962.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%904_hu5471006914444489534.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="135"
data-flex-basis="325px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%905.png"
width="1384"
height="764"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%905_hu3593428734639571601.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%905_hu2342966041559193998.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="181"
data-flex-basis="434px"
>
如果安装了VMware tools还是无法拖动的话重启一下
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%906.png"
width="1388"
height="885"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%906_hu10268694706802821106.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%906_hu4119406505995588721.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="156"
data-flex-basis="376px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%907.png"
width="1393"
height="849"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%907_hu12434200187581483250.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%907_hu10409527659293300390.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="164"
data-flex-basis="393px"
>
右键-&amp;gt;Open Terminal ls查看一下当前目录，sudo mv Desktop/sources.list /etc/apt将桌面的sources.list文件移动到/etc/apt目录下，cd /etc/apt进入/etc/apt目录。ls查看一下当前目录发现sources.list是绿色的，sources.list原本不是绿色的现在它怎么能和原来不一样呢？？？作为一个追求完美的人是绝对无法忍受的，它是绿色的说明它拥有可执行权限，我把它的可执行权限给它拿掉就行了chmod a-x sources.list(拥有可执行权限就相当于是windows下的.exe)。ls 再次查看一下，嗯&amp;hellip;现在完美了&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo mv Desktop/sources.list /etc/apt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc/apt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod a-x sources.list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%908.png"
width="1034"
height="886"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%908_hu2247425846101692110.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8D%A2%E6%BA%908_hu17592169661810751700.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="116"
data-flex-basis="280px"
>&lt;/p>
&lt;h3 id="安装pip3并更换源解决pip安装东西慢的问题">安装pip3并更换源(解决pip安装东西慢的问题)
&lt;/h3>&lt;p>ubuntu默认是没有安装pip的(由于我主要使用python3，所以我只装pip3),安装完之后查看一下是否安装成功pip3 -V&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt install python3-pip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pip3 -V
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%901.png"
width="1117"
height="963"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%901_hu1663401336558892371.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%901_hu12818951667868699396.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="278px"
>下面更换pip源，让我们pip install的时候速度更快&lt;/p>
&lt;ul>
&lt;li>解决方法一
&lt;a class="link" href="https://pypi.tuna.tsinghua.edu.cn/simple" target="_blank" rel="noopener"
>https://pypi.tuna.tsinghua.edu.cn/simple&lt;/a>
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%902.png"
width="1415"
height="921"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%902_hu6200535915576365432.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%902_hu13406831858681199976.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="153"
data-flex-basis="368px"
>&lt;/li>
&lt;li>解决方法二
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%903.png"
width="1260"
height="928"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%903_hu3564625691620145239.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%903_hu7775579364243599883.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="135"
data-flex-basis="325px"
>&lt;code>图片来自https://blog.csdn.net/qq_14994573/article/details/80934201&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>emm..亲测解决方法一不太行(貌似升级不行，我也不知道为啥)
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%904.png"
width="1104"
height="963"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%904_hu12243950634234038628.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%904_hu9037701187947902585.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="114"
data-flex-basis="275px"
>那就来方法二
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%905.png"
width="1040"
height="883"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%905_hu13241473195469860148.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%905_hu2306995824209410922.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="117"
data-flex-basis="282px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%906.png"
width="1117"
height="963"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%906_hu7277857002146346180.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%9B%B4%E6%8D%A2pip%E6%BA%906_hu533851631930797484.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="278px"
>```bash
cd ~
ls -al #查看是否存在.pip文件夹
mkdir .pip #创建.pip文件夹
vim pip/pip.conf #自己百度下vim怎么用&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">改好之后试一下效果
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">![](更换pip源7.png)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## 首次登陆怎么设置root用户？(首次登陆需要为root用户设置密码)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">输入命令sudo passwd然后输入你当前用户的密码(还记得每次使用sudo命令都要输当前用户密码吗？)然后就可以设置root用户的密码了，更改完了使用su root命令试试效果
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">```bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo passwd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">whoami
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E9%A6%96%E6%AC%A1%E4%BF%AE%E6%94%B9root%E5%AF%86%E7%A0%81.png"
width="1040"
height="883"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E9%A6%96%E6%AC%A1%E4%BF%AE%E6%94%B9root%E5%AF%86%E7%A0%81_hu7708731577130643028.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E9%A6%96%E6%AC%A1%E4%BF%AE%E6%94%B9root%E5%AF%86%E7%A0%81_hu15309508809306449205.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="117"
data-flex-basis="282px"
>&lt;/p>
&lt;h3 id="挂载移动硬盘出现mountunknown-filesystem-type-exfat">挂载移动硬盘出现mount:unknown filesystem type &amp;rsquo;exfat'
&lt;/h3>&lt;p>出现这个错误说明缺少对exfat文件系统的支持&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 搜索一下与exfat相关的东西&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt search exfat
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 可以看到exfat-fuse 是 对exfat文件系统的支持&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># read and write exFAT driver for FUSE&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install exfat-fuse
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 安装好了之后再重新挂载就ok了&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8C%82%E8%BD%BD%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98exfat1.png"
width="1170"
height="829"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8C%82%E8%BD%BD%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98exfat1_hu4360994997050425531.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8C%82%E8%BD%BD%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98exfat1_hu12960109211698384966.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="338px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8C%82%E8%BD%BD%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98exfat2.png"
width="1148"
height="835"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8C%82%E8%BD%BD%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98exfat2_hu12470666742837306706.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8C%82%E8%BD%BD%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98exfat2_hu14460718925187096416.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="137"
data-flex-basis="329px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8C%82%E8%BD%BD%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98exfat3.png"
width="1184"
height="959"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8C%82%E8%BD%BD%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98exfat3_hu18314121333980494452.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E6%8C%82%E8%BD%BD%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98exfat3_hu9435345957399195888.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="123"
data-flex-basis="296px"
>&lt;/p>
&lt;h2 id="安装杂七杂八的软件">安装杂七杂八的软件
&lt;/h2>&lt;h3 id="安装gcc-g-python3-vim">安装gcc g++ python3 vim
&lt;/h3>&lt;p>细细盘算一下作为一个计算机相关的精神小伙必不可少的有哪些东西呢？gcc g++ python vim&amp;hellip;先暂时安装这几个吧其它的后面再说(这个地方安装的是python2，python3 ubuntu18.04默认安装了的)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 废话不多说，直接一条命令搞定&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install gcc g++ python vim --yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 当然你也可以&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># sudo apt install gcc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># sudo apt install g++&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># sudo apt install python&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># sudo apt install vim&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装完了之后使用&amp;ndash;version参数查看是否安装成功
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85gccvimpython1.png"
width="1034"
height="886"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85gccvimpython1_hu12357968842817006742.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85gccvimpython1_hu13360334312651285751.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="116"
data-flex-basis="280px"
>
作为一个精通helloworld的人，我飞快的写了一行helloworld并运行成功，顿时心潮澎湃热血上涌。
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85gccvimpython2.png"
width="1034"
height="886"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85gccvimpython2_hu3199804206523695983.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85gccvimpython2_hu11995462981660516461.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="116"
data-flex-basis="280px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85gccvimpython3.png"
width="1034"
height="886"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85gccvimpython3_hu7432983647398885608.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/%E5%AE%89%E8%A3%85gccvimpython3_hu11869628267933115185.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="116"
data-flex-basis="280px"
>&lt;/p>
&lt;h3 id="安装open-ssh并试用vscode远程编辑代码">安装open-ssh并试用vscode“远程”编辑代码
&lt;/h3>&lt;p>说到这里其实当我们在terminal里面敲ssh之后按两下tab之后其实可以看到已经安装了一写ssh相关的软件，只不过我们要在外部连接到我们“主机”，那么自然就需要ssh server相关的东西，ubuntu并没有默认安装，搜索一下ssh-server，可以看到openssh-server正是我们要的东西，然后直接安装就行了&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">apt search ssh-server
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install openssh-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh2.png"
width="1352"
height="1014"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh2_hu16736061725466972626.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh2_hu2761313563114364985.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>
安装完了查看一下是否在运行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">service sshd status
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 如果没运行的话可以:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># service sshd start&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh3.png"
width="1352"
height="1014"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh3_hu9734712676550132876.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh3_hu17531614292939089540.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>
下面我们用xshell连接试试，配置好相关信息我选择以root用户登录
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh4.png"
width="1794"
height="838"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh4_hu3429949489257727395.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh4_hu15293802813292599223.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="214"
data-flex-basis="513px"
>
再疯狂的重试了输入root密码并确定没有输入错误后我决定查看一下登录日志，然鹅并没有看出什么东西密码不可能输错
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh5.png"
width="1861"
height="826"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh5_hu10129847929161695850.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh5_hu5241543863110210067.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="225"
data-flex-basis="540px"
>没办法我换个用户登录试试，TMD(实在忍不住爆句粗口)，成功了
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh6.png"
width="1728"
height="875"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh6_hu11385229280031760578.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh6_hu9562246067949389248.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="197"
data-flex-basis="473px"
>
下面再用vscode连接试试，这样可以方便写代码(貌似也没方便多少233，如果是连服务器的话倒是方便了很多)
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh7.png"
width="1920"
height="1080"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh7_hu14232755185512083566.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh7_hu11075287645516811637.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh8.png"
width="1920"
height="1080"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh8_hu9061138387483706856.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh8_hu12499311476735346715.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh10.png"
width="1920"
height="1080"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh10_hu7107448742993010568.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh10_hu11393343349076840868.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh11.png"
width="1833"
height="957"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh11_hu13807864493830171588.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh11_hu15167307231417114809.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="191"
data-flex-basis="459px"
>选择一个文件保存配置的信息(就是你刚刚输入的用户名和地址)
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh12.png"
width="960"
height="1080"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh12_hu1048656281951719249.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh12_hu7174270423904202658.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="88"
data-flex-basis="213px"
>保存好了就可以连接了
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh13.png"
width="960"
height="1080"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh13_hu13843350394226031607.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh13_hu18081304652632075087.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="88"
data-flex-basis="213px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh14.png"
width="1280"
height="960"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh14_hu1055220999108857563.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh14_hu6170734435742672457.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>连接好了之后可以打开文件看看
&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh15.png"
width="1280"
height="960"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh15_hu12739888580797725242.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh15_hu10657404052654845522.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;img src="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh16.png"
width="1392"
height="960"
srcset="https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh16_hu15160060394198358622.png 480w, https://nu11able.github.io/p/ubuntu%E5%AE%89%E8%A3%85%E5%8F%8A%E7%BE%8E%E5%8C%96/openssh16_hu16934498112837654468.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="145"
data-flex-basis="348px"
>&lt;/p></description></item><item><title>Links</title><link>https://nu11able.github.io/links/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://nu11able.github.io/links/</guid><description>&lt;p>To use this feature, add &lt;code>links&lt;/code> section to frontmatter.&lt;/p>
&lt;p>This page&amp;rsquo;s frontmatter:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">links&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">GitHub&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">GitHub is the world&amp;#39;s largest software development platform.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">website&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://github.com&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TypeScript&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TypeScript is a typed superset of JavaScript that compiles to plain JavaScript.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">website&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://www.typescriptlang.org&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ts-logo-128.jpg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>image&lt;/code> field accepts both local and external images.&lt;/p></description></item><item><title>Search</title><link>https://nu11able.github.io/search/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://nu11able.github.io/search/</guid><description/></item></channel></rss>